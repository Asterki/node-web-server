<!DOCTYPE html>
<html>
    <head>
        <link crossorigin="anonymous" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" rel="stylesheet">
            <link href="https://asterkidev.ml/assets/icon.png" rel="icon" type="image/png">
                <title>
                    Node Web Player
                </title>
            </link>
        </link>
    </head>
    <body style="background-color: #333;">
        <header class="text-center container-fluid header" style="color: white; background-color: #222; margin-top: -10px;">
            <h1>
                Welcome to the node audio player
            </h1>
            <p>
                This is an example of a node.js web server using http and fs
            </p>
        </header>
        <section>
            <div class="text-center">
                <audio controls="" id="audio" onended="queue_process()" src="./" style="margin-top: 20px; text-align: center;" volume="4">
                </audio>
                <input class="text-center" id="input" name="file" onchange="play();" style="margin-left: 20px;" type="file">
                </input>
            </div>
            <div class="text-center" style="margin-top: 40px;">
            </div>
            <h4 id="np" style="margin-top: 20; color: white; margin-bottom: 20px; margin-left: 20px;">
            </h4>
<script type="text/javascript">
let n = 0;
let loaded = 0;
const audio = document.getElementById('audio');
const np = document.getElementById('np');
const input = document.getElementById('input');

function play() {
	let file = input.files[n];
	np.innerHTML = "";
   	np.innerHTML = `Now playing: ${file.name}`;

   	const reader = new FileReader()
	reader.addEventListener('load', event => {
   		audio.src = event.target.result;
   		audio_in();
   	});

   	reader.readAsDataURL(file);
   	loaded = 2;
}

function audio_in() {
   	audio.volume = 0;
   	audio.play();
   	setTimeout(function() {
   		audio.volume = 0.1;
   	setTimeout(function() {
   		audio.volume = 0.2;
   	setTimeout(function() {
   		audio.volume = 0.3;
   	setTimeout(function() {
   		audio.volume = 0.4;
   	setTimeout(function() {
   		audio.volume = 0.5;}, 500);}, 500);}, 500);},500);}, 500);
}
                    </script>
                </br>
            </br>
        </section>
    </body>
</html>